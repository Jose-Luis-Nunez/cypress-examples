#Run Cypress tests for firefox
name: Cypress tests

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]
  schedule:
    - cron: '0 0 * * *'

jobs:
  chrome:
    runs-on: ubuntu-latest
      container: cypress/browsers:node14.17.0-chrome91-ff89
  needs: build

  steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Download build artifact
      uses: actions/download-artifact@v2
      with:
        name: build
        path: .next

    - name: UI Tests Firefox
      uses: cypress-io/github-action@v2
      with:
        install: npm install
        wait-on-timeout: 120
        browser: firefox
        group: "UI - Firefox"
        start: npm start
